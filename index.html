<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vinyl Album with Music</title>

    <!-- Include Font Awesome for icons -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
      rel="stylesheet"
    />

    <style>
      /* Body styling to center everything vertically and horizontally */
      body {
        font-family: Arial, sans-serif;
        background-color: #f4f4f4;
        margin: 0;
        padding: 0;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        flex-direction: column;
        text-align: center;
      }

      /* Vinyl container to center the album cover and vinyl rotation */
      .vinyl-container {
        position: relative;
        display: inline-block;
        margin-top: 20px;
      }

      #vinyl {
        width: 350px; /* Increased size to make the image larger */
        height: 350px;
        animation: rotate 10s linear infinite;
        animation-play-state: paused; /* Default to paused */
        border-radius: 50%; /* Circular vinyl effect */
      }

      /* Rotate animation */
      @keyframes rotate {
        from {
          transform: rotate(0deg);
        }
        to {
          transform: rotate(360deg);
        }
      }

      /* Vinyl frame styling */
      .vinyl-frame {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        border-radius: 50%;
        background-color: rgba(255, 255, 255, 0.3);
      }

      /* Playlist button styling */
      .controls {
        margin-top: 30px;
        display: flex;
        justify-content: center;
        gap: 20px;
        align-items: center;
      }

      .playlist-button {
        padding: 15px 30px;
        background-color: #333;
        color: white;
        border: none;
        cursor: pointer;
        font-size: 24px;
        border-radius: 5px;
        transition: background-color 0.3s ease;
      }

      .playlist-button:hover {
        background-color: #555;
      }

      /* Icon styling for buttons */
      .fa {
        font-size: 30px; /* Adjust icon size */
        color: white;
      }

      /* Progress bar container styling */
      .progress-container {
        width: 60%; /* Adjust the width to make it shorter (60%) */
        margin-top: 20px;
        background-color: #ddd;
        height: 10px;
        border-radius: 5px;
        overflow: hidden;
        cursor: pointer;
        margin-bottom: 30px; /* Move the progress bar closer to the buttons */
      }

      .progress-bar {
        height: 100%;
        width: 0%;
        background-color: #333;
        transition: width 0.1s ease;
      }
    </style>
  </head>
  <body>
    <!-- Vinyl Record and Album Cover -->
    <div class="vinyl-container">
      <img id="vinyl" src="IMG_9471.JPG" />
      <div class="vinyl-frame"></div>
    </div>

    <!-- Playlist Controls -->
    <div class="controls">
      <!-- Previous track button -->
      <button class="playlist-button" onclick="previousTrack()">
        <i class="fas fa-backward"></i>
      </button>

      <!-- Play/Pause button -->
      <button class="playlist-button" onclick="togglePlayPause()">
        <i id="play-pause-icon" class="fas fa-play"></i>
      </button>

      <!-- Next track button -->
      <button class="playlist-button" onclick="nextTrack()">
        <i class="fas fa-forward"></i>
      </button>
    </div>

    <!-- Progress Bar -->
    <div class="progress-container" onclick="setProgress(event)">
      <div id="progress-bar" class="progress-bar"></div>
    </div>

    <!-- Audio Player (removed the default controls) -->
    <audio id="audio-player">
      <source id="audio-source" src="https://thelongesthumstore.sgp1.cdn.digitaloceanspaces.com/IM-2250/p-hase_Hes.mp3" type="audio/mp3" />
    </audio>

    <script>
      const vinyl = document.getElementById('vinyl');
      const audioPlayer = document.getElementById('audio-player');
      const audioSource = document.getElementById('audio-source');
      const playPauseIcon = document.getElementById('play-pause-icon');
      const progressBar = document.getElementById('progress-bar');

      // Image paths for the album covers
      const images = ['IMG_9471.JPG', 'IMG_9472.JPG', 'IMG_9473.JPG', 'IMG_9474.JPG'];
      // Music tracks corresponding to each album cover
      const audioFiles = [
        'https://thelongesthumstore.sgp1.cdn.digitaloceanspaces.com/IM-2250/p-hase_Hes.mp3',
        'https://thelongesthumstore.sgp1.cdn.digitaloceanspaces.com/IM-2250/p-hase_Dry-Down-feat-Ben-Snaath.mp3',
        'https://thelongesthumstore.sgp1.cdn.digitaloceanspaces.com/IM-2250/p-hase_Leapt.mp3',
        'https://thelongesthumstore.sgp1.cdn.digitaloceanspaces.com/IM-2250/p-hase_Water-Feature.mp3'
      ];

      let currentTrack = 0; // Track index to keep track of the current track

      // Function to play or pause the track
      function togglePlayPause() {
        if (audioPlayer.paused) {
          audioPlayer.play();
          playPauseIcon.classList.replace('fa-play', 'fa-pause');
        } else {
          audioPlayer.pause();
          playPauseIcon.classList.replace('fa-pause', 'fa-play');
        }
      }

      // Function to change to the next track
      function nextTrack() {
        currentTrack = (currentTrack + 1) % audioFiles.length; // Loop back to the first track
        audioSource.src = audioFiles[currentTrack];
        audioPlayer.load(); // Reload the audio player with new source
        audioPlayer.play(); // Start playing the new track

        // Change the vinyl image
        vinyl.src = images[currentTrack];

        // Start the vinyl rotation when the track starts playing
        audioPlayer.addEventListener('play', () => {
          vinyl.style.animationPlayState = 'running';
        });

        // Pause the vinyl rotation when the track pauses
        audioPlayer.addEventListener('pause', () => {
          vinyl.style.animationPlayState = 'paused';
        });
      }

      // Function to change to the previous track
      function previousTrack() {
        currentTrack = (currentTrack - 1 + audioFiles.length) % audioFiles.length; // Loop to the last track
        audioSource.src = audioFiles[currentTrack];
        audioPlayer.load(); // Reload the audio player with new source
        audioPlayer.play(); // Start playing the new track

        // Change the vinyl image
        vinyl.src = images[currentTrack];

        // Start the vinyl rotation when the track starts playing
        audioPlayer.addEventListener('play', () => {
          vinyl.style.animationPlayState = 'running';
        });

        // Pause the vinyl rotation when the track pauses
        audioPlayer.addEventListener('pause', () => {
          vinyl.style.animationPlayState = 'paused';
        });
      }

      // Update the progress bar as the track plays
      audioPlayer.addEventListener('timeupdate', () => {
        const progress = (audioPlayer.currentTime / audioPlayer.duration) * 100;
        progressBar.style.width = `${progress}%`;
      });

      // Function to set the progress when clicking on the progress bar
      function setProgress(event) {
        const clickPosition = (event.offsetX / event.target.offsetWidth) * audioPlayer.duration;
        audioPlayer.currentTime = clickPosition;
      }

      // Initially play the first track
      nextTrack();
    </script>
  </body>
</html>
